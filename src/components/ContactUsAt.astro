---
import Button from "./Button.astro";

export interface Props {
  color: string;
  svg: string;
  title: string;
  description: string;
  link: string;
  buttonText: string;
  hoverColor?: string;
  buttonStyle?: "solid" | "outline" | "ghost";
}

const { color, svg, title, description, link, buttonText, hoverColor: customHoverColor, buttonStyle = "solid" } = Astro.props;

// Map the color classes to button intents with style variants
function getButtonIntent(color: string, style: "solid" | "outline" | "ghost"): string {
  if (color.includes('jpmc-blue')) {
    switch (style) {
      case "solid": return "primary";
      case "outline": return "primaryOutline";
      case "ghost": return "primaryGhost";
    }
  }
  if (color.includes('jpmc-red')) {
    switch (style) {
      case "solid": return "secondary";
      case "outline": return "secondaryOutline";
      case "ghost": return "secondaryGhost";
    }
  }
  if (color.includes('jpmc-gold')) {
    switch (style) {
      case "solid": return "accent";
      case "outline": return "accentOutline";
      case "ghost": return "accentGhost";
    }
  }
  if (color.includes('purple')) {
    switch (style) {
      case "solid": return "primary";
      case "outline": return "primaryOutline";
      case "ghost": return "primaryGhost";
    }
  }
  if (color.includes('black')) {
    switch (style) {
      case "solid": return "primary";
      case "outline": return "primaryOutline";
      case "ghost": return "primaryGhost";
    }
  }
  // Fallback
  switch (style) {
    case "solid": return "primary";
    case "outline": return "primaryOutline";
    case "ghost": return "primaryGhost";
  }
}

const buttonIntent = getButtonIntent(color, buttonStyle);
---

<div class="bg-white p-6 rounded-lg shadow-lg text-center hover:shadow-xl transition-shadow duration-300">
  <div class={`w-16 h-16 ${color} rounded-full flex items-center justify-center mx-auto mb-4`}>
    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24" set:html={svg} />
  </div>
  <h3 class="text-xl font-bold text-jpmc-dark mb-2">{title}</h3>
  <p class="text-gray-600 mb-4">{description}</p>
  <Button 
    href={link} 
    intent={buttonIntent}
    size="md"
  >
    {buttonText} â†’
  </Button>
</div>
