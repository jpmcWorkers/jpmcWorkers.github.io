---
import { ButtonVariantProps } from "./button-variants";
import Button from "./Button.astro";

export interface Props {
  color: string;
  svg: string;
  title: string;
  description: string;
  link: string;
  buttonText: string;

}

const { color, svg, title, description, link, buttonText } = Astro.props;

// Map the color classes to button intents
function getButtonIntent(color: string): ButtonVariantProps['intent'] {
  if (color.includes('jpmc-blue')) return "primary";
  if (color.includes('jpmc-red')) return "secondary";
  if (color.includes('jpmc-gold')) return "accent";
  if (color.includes('purple')) return "primary";
  if (color.includes('black')) return "primary";
  return "primary"; // Fallback
}

const buttonIntent = getButtonIntent(color);
---

<div class="bg-white p-6 rounded-lg shadow-lg text-center hover:shadow-xl transition-shadow duration-300">
  <div class={`w-16 h-16 ${color} rounded-full flex items-center justify-center mx-auto mb-4`}>
    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24" set:html={svg} />
  </div>
  <h3 class="text-xl font-bold text-jpmc-dark mb-2">{title}</h3>
  <p class="text-gray-600 mb-4">{description}</p>
  <Button 
    href={link} 
    intent={buttonIntent}
    size="md"
  >
    {buttonText} â†’
  </Button>
</div>
